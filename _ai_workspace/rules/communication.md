# 🗣️ AI Agent コミュニケーション記法

**対象**: AI Agentとの対話・指示方法  
**優先事項**: **ファイル複製防止・明確な指示・効率的対話**  
**最終更新**: 2024年12月7日

---

## 🎯 基本原則

### **1. 🚨 ファイル複製防止ファースト**
- **既存ファイル確認を最優先**で指示
- 新規作成前に必ず「重複チェック」を要求
- 編集 > 新規作成の原則を徹底

### **2. 🎯 明確で具体的な指示**
- 曖昧な表現を避け、具体的なアクションを指定
- ファイルパスは正確に記載
- 期待する結果を明確に表現

### **3. 📊 検証可能な指示**
- 実装後の確認方法を含める
- 成功判定基準を明確にする
- エラー時の対応手順を含める

---

## 📋 指示テンプレート集

### **🔍 ファイル重複防止指示（必須使用）**

#### **新規ファイル作成指示**
```markdown
❌ 悪い例:
「セッション管理ファイルを作成して」

✅ 良い例:
「まず既存のセッション関連ファイルを確認してから、重複がない場合のみ
`_ai_workspace/context/current_session.md`を作成してください。
既存ファイルがある場合は編集で対応してください。」
```

#### **設定ファイル変更指示**
```markdown
❌ 悪い例:
「MCPの設定を作成して」

✅ 良い例:
「`_core_config/mcp/`ディレクトリ内の既存設定を確認し、
重複を作らずに設定を更新してください。新規テンプレート作成が
必要な場合は、既存テンプレートとの差分を明確にしてください。」
```

### **📁 ファイル操作指示**

#### **編集指示**
```markdown
✅ 推奨形式:
「`[ファイルパス]`の[行番号]付近の[具体的内容]を[変更内容]に更新してください」

例:
「`_ai_workspace/rules/workflow_patterns.md`のパターン7部分に
ファイル重複防止チェック機能を追加してください」
```

#### **削除指示**
```markdown
✅ 推奨形式:
「`[ファイルパス]`を削除前に依存関係を確認し、安全な場合のみ削除してください」

例:
「`~/Development/temp_session.md`が重複ファイルの場合、
内容を確認してから削除してください」
```

### **🔍 確認・検証指示**

#### **状況確認指示**
```markdown
✅ 推奨形式:
「[確認対象]について[確認方法]で状況を確認し、[期待する結果]と比較してください」

例:
「現在のディレクトリ構造をlist_dirで確認し、画像と一致するか検証してください」
```

#### **動作確認指示**
```markdown
✅ 推奨形式:
「[実装内容]が正常に動作するか[確認方法]でテストし、結果を報告してください」

例:
「作成したワークフローパターンが実際に使用可能か、サンプルで検証してください」
```

---

## 🚫 避けるべき指示パターン

### **❌ 曖昧な指示**
- 「適当に作成して」 → 重複ファイル作成リスク
- 「よろしく」 → 期待結果不明
- 「いい感じに」 → 判定基準不明

### **❌ 重複リスクの高い指示**
- 「新しくファイルを作成して」 → 既存確認なし
- 「コピーして編集」 → 複製増加
- 「バックアップを作って」 → 散在ファイル増加

### **❌ 検証不能な指示**
- 「完成させて」 → 完成基準不明
- 「修正して」 → 修正内容不明
- 「動くようにして」 → 動作基準不明

---

## 💡 効果的なフィードバック方法

### **🎯 建設的フィードバック**

#### **良いフィードバック例**
```markdown
「workflow_patterns.mdを確認しましたが、パターン7の部分が
不完全になっています。ファイル重複防止機能を含めて
完成させてください。」
```

#### **段階的フィードバック**
```markdown
1. 「まず現状を確認してください」
2. 「問題点を特定してください」  
3. 「解決方法を実装してください」
4. 「結果を検証してください」
```

### **📊 進捗確認フィードバック**

#### **実装状況確認**
```markdown
「AI_AGENT_OPTIMIZATION_PLAN.mdの進捗を実際の実装状況と
照らし合わせて更新してください。特に完了したタスクの
成果物が実在するか確認してください。」
```

#### **品質確認**
```markdown
「作成したドキュメント全体を読み返して、内容の完全性と
一貫性を確認してください。不足している部分があれば
指摘してください。」
```

---

## 🔄 継続的改善のコミュニケーション

### **📈 メタフィードバック**

#### **パターン分析要求**
```markdown
「今回のセッションで私からのフィードバックを分析して、
より効果的な作業パターンを提案してください。」
```

#### **効率化提案要求**  
```markdown
「現在の運用ルールで改善できる点があれば、
具体的な改善案と共に提案してください。」
```

### **🎯 予防的コミュニケーション**

#### **事前確認要求**
```markdown
「作業開始前に、以下の点を確認してください：
1. 重複ファイルの可能性
2. 既存ルールとの整合性
3. 期待する成果物の明確化」
```

#### **リスク評価要求**
```markdown
「この変更によるリスク（ファイル散在、設定破綻等）を
評価してから実装してください。」
```

---

## 📋 セッション管理コミュニケーション

### **🚀 セッション開始時**
```markdown
標準的な開始指示:
「セッション開始時チェックリストを実行し、
前回からの継続事項と今回の作業目標を確認してください。
特にファイル散在状況をチェックしてください。」
```

### **⏳ セッション中**
```markdown
標準的な進捗確認:
「現在の作業状況とファイル整理状況を報告してください。
重複ファイル作成や散在が発生していないか確認してください。」
```

### **✅ セッション終了時**
```markdown
標準的な終了指示:
「セッション終了時チェックリストを実行し、
全てのファイルが適切に配置され、重複や散在がないことを
確認してから終了してください。」
```

---

## 🎯 エラー・問題対応コミュニケーション

### **🚨 緊急時指示**
```markdown
「作業を一時停止し、以下を実行してください：
1. 現在の状況を正確に報告
2. エラーの原因を特定
3. 安全な復旧方法を提案
4. 再発防止策を検討」
```

### **🔍 調査指示**
```markdown
「[問題]について詳細に調査し、以下の観点で報告してください：
- 発生状況・条件
- 影響範囲
- 既存の類似問題との関連
- 推奨解決方法」
```

---

## 📊 効果測定

### **🎯 コミュニケーション品質指標**
- **指示明確度**: 曖昧さのない具体的指示の割合
- **重複防止率**: ファイル重複を防げた指示の割合  
- **成功率**: 期待通りの結果を得られた指示の割合
- **効率度**: 最小限の対話で目標達成できた割合

### **📈 継続改善**
- **週次レビュー**: コミュニケーションパターンの振り返り
- **ベストプラクティス更新**: 効果的だった指示方法の文書化
- **失敗パターン分析**: 問題を起こした指示の分析・改善

---

**🎯 最重要原則**: 全ての指示において「ファイル重複防止」を最優先事項とし、明確で検証可能なコミュニケーションを心がける

**📋 使用方法**: 指示前にこのドキュメントのテンプレートを参照し、適切な形式で指示を行う 